"use strict";(self.webpackChunkPortfolio=self.webpackChunkPortfolio||[]).push([[114],{5737:(b,f,i)=>{i.r(f),i.d(f,{MainModule:()=>B});var h=i(8256);let P=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275cmp=h.Xpm({type:c,selectors:[["app-main"]],decls:3,vars:0,consts:[[1,"layout-container","d-grid","pt-5","mt-5"],[1,""],["src","./assets/images/tmdb.png",1,"w-full","px-5"]],template:function(p,T){1&p&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2),h.qZA()())},encapsulation:2}),c})();var M=i(6773);const y=[{path:"",component:P}];let v=(()=>{class c{}return c.\u0275fac=function(p){return new(p||c)},c.\u0275mod=h.oAB({type:c}),c.\u0275inj=h.cJS({imports:[M.Bz.forChild(y),M.Bz]}),c})();var C=i(5642),e=i(6895),g=i(433);let B=(()=>{class c{}return c.\u0275fac=function(p){return new(p||c)},c.\u0275mod=h.oAB({type:c}),c.\u0275inj=h.cJS({imports:[g.u5,e.ez,g.UX,v,C.K]}),c})()},5991:(b,f,i)=>{i.r(f),i.d(f,{MoviesModule:()=>w});var h=i(5642),P=i(6895),M=i(433),y=i(6773);function v(o,a,t,n,s,r,d){try{var u=o[r](d),m=u.value}catch(S){return void t(S)}u.done?a(m):Promise.resolve(m).then(n,s)}function C(o){return function(){var a=this,t=arguments;return new Promise(function(n,s){var r=o.apply(a,t);function d(m){v(r,n,s,d,u,"next",m)}function u(m){v(r,n,s,d,u,"throw",m)}d(void 0)})}}var e=i(8256);const g_TMDB_IMG="https://image.tmdb.org/t/p/w500/";var B=i(529);let c=(()=>{class o{constructor(t){this.http=t,this.apiUrl="https://api.themoviedb.org/3",this.token="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhN2YyYzM0OTk2OGNlYjRhODBhNGQ3YTA0MGE3MTVjMyIsInN1YiI6IjY0YjM5NjBkMGJiMDc2MDBlYjI5MjhjMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.v_QpksvE4iPF3ON-Z95Ds5okassWCDngB6s6HBUiLJU",this.apiKey="a7f2c349968ceb4a80a4d7a040a715c3",this.headers=new B.WM({accept:"application/json",Authorization:`Bearer ${this.token}`})}get(t,n=""){return this.http.get(`${this.apiUrl}${t}?api_key=${this.apiKey}&language=pt-BR${n}`,{headers:this.headers})}post(t,n){return this.http.post(`${this.apiUrl}${t}`,n,{headers:this.headers})}put(t,n,s){return this.http.put(`${this.apiUrl}${t}/${n}`,s,{headers:this.headers})}delete(t,n){return this.http.delete(`${this.apiUrl}${t}/${n}`,{headers:this.headers})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(B.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),l=(()=>{class o{constructor(t){this.apiTMDB=t,this.endpoint="/discover/movie",this.getMovie=function(){var n=C(function*(s){return yield(yield fetch(s)).json()});return function(s){return n.apply(this,arguments)}}()}getMoviesPagination(t){return new Promise((n,s)=>{const r={next:d=>{d.results.map(u=>{u.poster_path=`${g_TMDB_IMG}${u.poster_path}`}),n(d.results)},error:d=>s(d),complete:()=>{}};this.apiTMDB.get("/discover/movie",`&page=${t}`).subscribe(r)})}getMoviesFilteredByIdGenrePagination(t,n){return new Promise((s,r)=>{const d={next:m=>{m.results.map(S=>{S.poster_path=`${g_TMDB_IMG}${S.poster_path}`}),s(m)},error:m=>r(m),complete:()=>{}},u=t.map((m,S)=>0===S?m:`%2C${m}`).join("");this.apiTMDB.get("/discover/movie",`&page=${n}&with_genres=${u}`).subscribe(d)})}getAllGenres(){return new Promise((t,n)=>{const s={next:r=>t(r.genres),error:r=>n(r),complete:()=>{}};this.apiTMDB.get("/genre/movie/list").subscribe(s)})}getAllDiscover(){return new Promise((t,n)=>{const s={next:r=>t(r.genres),error:r=>n(r),complete:()=>{}};this.apiTMDB.get("/discover/movie").subscribe(s)})}getAllChanges(){return new Promise((t,n)=>{const s={next:r=>t(r.genres),error:r=>n(r),complete:()=>{}};this.apiTMDB.get("/movie/changes").subscribe(s)})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(c))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=i(4134);const T=function(o){return{height:o}},Z=["*"];let A=(()=>{class o extends p.r{constructor(){super(),this.isSelected=this.isSelected,this.textColor="dark",this.backgroundColor=this.isSelected?"secondary":"white",this.borderColor=this.isSelected?"secondary":"gray",this.textColor=this.isSelected?"white":this.textColor,this.backgroundColorHover="secondary",this.borderColorHover="secondary",this.borderRadius=30,this.class=`${this.class} c-fs-14`}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-gender-button"]],inputs:{isSelected:"isSelected"},features:[e.qOj],ngContentSelectors:Z,decls:4,vars:8,consts:[[3,"disabled","type","ngStyle"],["app_button",""]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"button",0,1),e._uU(2),e.Hsn(3),e.qZA()),2&t&&(e.Tol("app-button "+n.definedClasses),e.Q6J("disabled",n.disabled)("type",n.type)("ngStyle",e.VKq(6,T,n.height)),e.xp6(2),e.hij(" ",n.label," "))},dependencies:[P.PC],encapsulation:2}),o})();var I=i(7472);const F=["*"];let J=(()=>{class o{constructor(){this.header="2",this.class="",this.collapsed=!0}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-filter-panel"]],inputs:{header:"header",class:"class",collapsed:"collapsed"},ngContentSelectors:F,decls:2,vars:4,consts:[[3,"header","toggleable","styleClass","collapsed"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"p-panel",0),e.Hsn(1),e.qZA()),2&t&&e.Q6J("header",n.header)("toggleable",!0)("styleClass",n.class)("collapsed",n.collapsed)},dependencies:[I.s],encapsulation:2}),o})(),G=(()=>{class o{constructor(){this.movie={}}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-card"]],inputs:{movie:"movie"},decls:13,vars:5,consts:[[1,"app-card"],[1,"image-card"],["alt","Descri\xe7\xe3o da imagem",3,"src"],[1,"content-card"],[1,"fw-semibold","c-fs-15","c-color-dark",3,"href"],[1,"c-color-gray","c-fs-15"],[1,"d-md-none","description-card"],[1,"text"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"p")(5,"a",4),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"span",5),e._uU(9),e.qZA()(),e.TgZ(10,"div",6)(11,"p",7),e._uU(12),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("src",n.movie.poster_path,e.LSH),e.xp6(3),e.Q6J("href","/"+n.movie.id,e.LSH),e.xp6(1),e.hij(" ",n.movie.title," "),e.xp6(3),e.hij(" ",n.movie.release_date,""),e.xp6(3),e.hij(" ",n.movie.overview," "))},encapsulation:2}),o})();const U=["loadMorePage"];function x(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-gender-button",16),e.NdJ("click",function(){const s=e.CHM(t),r=s.index,d=s.$implicit,u=e.oxw();return e.KtG(u.genderSearh(r,d.id))}),e._uU(1),e.qZA()}if(2&o){const t=a.$implicit;e.Tol(t.selected?"c-bg-color-secondary c-border-color-secondary c-color-white":""),e.Q6J("isSelected",t.selected),e.xp6(1),e.Oqu(t.name)}}function D(o,a){if(1&o&&(e.TgZ(0,"div",17),e._UZ(1,"app-card",18),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("movie",t)}}const $=[{path:"",children:[{path:"",component:(()=>{class o{constructor(t){var n=this;this.movieController=t,this.movies=[],this.loadedPages={morePage:0,searchPage:0},this.isButtonloadedPages={isMoreButton:!1,isSearchButton:!1},this.isSearch=!1,this.selectedsIdGender=[],this.getMovies=C(function*(s=1){const r=yield n.movieController.getMoviesPagination(s);n.movies=[...n.movies,...r]}),this.getMoviesSearch=C(function*(s=1){const r=yield n.movieController.getMoviesFilteredByIdGenrePagination(n.selectedsIdGender,s);console.log("this.loadedPages.searchPage",n.loadedPages.searchPage),n.movies=0!=n.loadedPages.morePage||n.loadedPages.searchPage>1?[...n.movies,...r.results]:r.results}),this.loadMorePages=()=>{this.isSearch?(this.loadedPages.searchPage++,this.loadedPages.morePage=0,this.isButtonloadedPages.isSearchButton=!0,this.getMoviesSearch(this.loadedPages.searchPage)):(this.loadedPages.searchPage>0&&(this.isButtonloadedPages.isMoreButton=!0),this.loadedPages.morePage++,this.loadedPages.searchPage=0,this.getMovies(this.loadedPages.morePage))},this.search=()=>{this.loadedPages.searchPage=1,this.isButtonloadedPages.isSearchButton=!1,this.isButtonloadedPages.isMoreButton=!1,this.isSearch=!0,this.getMoviesSearch(this.loadedPages.searchPage)},this.genderSearh=(s,r)=>{const d=this.selectedsIdGender.findIndex(u=>u===r);-1!=d?this.selectedsIdGender.splice(d,1):this.selectedsIdGender.push(r),this.genders[s].selected=!this.genders[s].selected},this.getGenders=C(function*(){n.genders=yield n.movieController.getAllGenres()})}onWindowScroll(){this.isButtonloadedPages.isMoreButton&&this.isButtonVisible()&&this.autoClickButton()}isButtonVisible(){if(this.buttonLoadMorePage){const t=this.buttonLoadMorePage.nativeElement.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight}return!1}autoClickButton(){this.buttonLoadMorePage&&this.buttonLoadMorePage.nativeElement.click()}ngOnInit(){this.getMovies(),this.getGenders()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-movie"]],viewQuery:function(t,n){if(1&t&&e.Gf(U,5),2&t){let s;e.iGM(s=e.CRH())&&(n.buttonLoadMorePage=s.first)}},hostBindings:function(t,n){1&t&&e.NdJ("scroll",function(){return n.onWindowScroll()},!1,e.Jf7)},decls:27,vars:4,consts:[[1,"d-flex","justify-content-center"],[1,"content"],[1,"row"],[1,"col-12"],[1,"fs-4","fw-semibold"],[1,"col-12","py-3","d-md-flex"],[1,"c-w-md-258",2,"min-width","258px"],["header","Ordernar",1,""],["header","Onde Assistir",1,"my-2"],["header","Filtros",1,"",3,"collapsed"],["class","c-fs-14 me-1 mb-2",3,"isSelected","class","click",4,"ngFor","ngForOf"],["height","50px",1,"w-full","fw-semibold","mt-3","mb-5",3,"borderRadius","click"],[1,"flex","ms-md-4","row",2,"max-width","1024px"],["class","col-md mb-4","keyvalue","movie",4,"ngFor","ngForOf"],["height","50px",1,"w-full","fw-semibold","mt-3",3,"click"],["loadMorePage",""],[1,"c-fs-14","me-1","mb-2",3,"isSelected","click"],["keyvalue","movie",1,"col-md","mb-4"],[3,"movie"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5,"Filmes Populares"),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"app-filter-panel",7),e._uU(9,"..."),e.qZA(),e.TgZ(10,"app-filter-panel",8),e._uU(11,"..."),e.qZA(),e.TgZ(12,"app-filter-panel",9)(13,"div",2)(14,"div",3)(15,"p"),e._uU(16,"G\xeaneros"),e.qZA()(),e.TgZ(17,"div",3),e.YNc(18,x,2,4,"app-gender-button",10),e.qZA()()(),e.TgZ(19,"app-button",11),e.NdJ("click",function(){return n.search()}),e._uU(20,"Pesquisar"),e.qZA()(),e.TgZ(21,"div",12),e.YNc(22,D,2,1,"div",13),e.TgZ(23,"app-button",14),e.NdJ("click",function(){return n.loadMorePages()}),e.TgZ(24,"span",null,15),e._uU(26,"Carregar mais"),e.qZA()()()()()()()),2&t&&(e.xp6(12),e.Q6J("collapsed",!1),e.xp6(6),e.Q6J("ngForOf",n.genders),e.xp6(1),e.Q6J("borderRadius",50),e.xp6(3),e.Q6J("ngForOf",n.movies))},dependencies:[P.sg,p.r,A,J,G],encapsulation:2}),o})()},{path:":id",component:(()=>{class o{constructor(t){this.movieController=t}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-movie"]],decls:2,vars:0,consts:[[1,"d-flex","justify-content-center"],[1,"content"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA())},encapsulation:2}),o})()}]}];let j=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[y.Bz.forChild($),y.Bz]}),o})();var O=i(105);let w=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[M.u5,P.ez,M.UX,B.JF,j,h.K,O.W]}),o})()},1114:(b,f,i)=>{i.r(f),i.d(f,{ScreensModule:()=>c});var h=i(5737),P=i(6895),M=i(433),y=i(6773),v=i(8256);const C=[{path:"main",loadChildren:()=>Promise.resolve().then(i.bind(i,5737)).then(l=>l.MainModule)},{path:"movie",loadChildren:()=>Promise.resolve().then(i.bind(i,5991)).then(l=>l.MoviesModule)}];let e=(()=>{class l{}return l.\u0275fac=function(T){return new(T||l)},l.\u0275mod=v.oAB({type:l}),l.\u0275inj=v.cJS({imports:[y.Bz.forChild(C),y.Bz]}),l})();var g=i(5642),B=i(5991);let c=(()=>{class l{}return l.\u0275fac=function(T){return new(T||l)},l.\u0275mod=v.oAB({type:l}),l.\u0275inj=v.cJS({imports:[M.u5,P.ez,M.UX,e,g.K,h.MainModule,B.MoviesModule]}),l})()}}]);